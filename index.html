<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>åœ£è¯å°æƒŠå–œ ğŸ„</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
    margin: 0;
    padding: 0;
    font-family: "Microsoft YaHei", sans-serif;
    background: linear-gradient(135deg, #ffefba, #ffffff);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}

#box {
    background: #fff;
    padding: 25px 20px;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    text-align: center;
    width: 85%;
    max-width: 320px;
}

h2 {
    font-size: 20px;
    margin-bottom: 20px;
}

button {
    font-size: 16px;
    padding: 10px 18px;
    margin: 10px;
    border: none;
    border-radius: 20px;
    cursor: pointer;
}

.yes {
    background: #ff5f6d;
    color: #fff;
}

.no {
    background: #ccc;
    color: #666;
}

#tree {
    display: none;
    font-size: 90px;
    margin-top: 20px;
}

canvas {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
}
</style>
</head>

<body>

<div id="box">
    <h2 id="question"></h2>
    <div id="buttons"></div>
    <div id="tree">ğŸ„</div>
</div>

<canvas id="fireworks"></canvas>

<script>
const questions = [
    "ä½ ä»Šå¤©æ˜¯ä¸æ˜¯ç‰¹åˆ«å¯çˆ±ï¼ŸğŸ¤ª",
    "ä½ æ˜¯ä¸æ˜¯å·å·ç…§è¿‡é•œå­ï¼ŸğŸ˜",
    "ä½ æ˜¯ä¸æ˜¯å…¨ä¸–ç•Œæœ€ä¼šç¬‘çš„äººï¼ŸğŸ˜‚",
    "ä½ æ˜¯ä¸æ˜¯å°å‚»ç“œï¼ŸğŸ˜",
    "ä½ æ˜¯ä¸æ˜¯å·²ç»çŒœåˆ°ç»“å±€äº†ï¼ŸğŸ˜",
    "é­”é•œé­”é•œğŸªï¼Œè°æ˜¯è¿™ä¸ªä¸–ç•Œä¸Šæœ€ç¾ä¸½çš„å¥³äººï¼Ÿï¼Ÿï¼ŸğŸ˜ˆ"
];

let index = 0;

const questionEl = document.getElementById("question");
const buttonsEl = document.getElementById("buttons");
const treeEl = document.getElementById("tree");

function render() {
    questionEl.innerText = questions[index];
    buttonsEl.innerHTML = "";

    if (index < questions.length - 1) {
        addButton("æ˜¯çš„", next);
        addButton("ä¸æ˜¯çš„", () => {});
    } else {
        addButton("æ™“æ™¶", showFinal);
        addButton("è–›æ™“æ™¶ğŸ¤ª", showFinal);
    }
}

function addButton(text, handler) {
    const btn = document.createElement("button");
    btn.innerText = text;
    btn.className = "yes";
    btn.onclick = handler;
    buttonsEl.appendChild(btn);
}

function next() {
    index++;
    render();
}

function showFinal() {
    questionEl.innerText = "çœŸç›¸åªæœ‰ä¸€ä¸ªï¼ åœ£è¯èŠ‚å¿«ä¹ğŸ‰";
    buttonsEl.innerHTML = "";
    treeEl.style.display = "block";
    startFireworks();
}

render();

/* ===== çƒŸèŠ± ===== */
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let fireworks = [];

function random(min, max) {
    return Math.random() * (max - min) + min;
}

function createFirework() {
    const x = random(100, canvas.width - 100);
    const y = random(50, canvas.height / 2);
    const count = 60;

    for (let i = 0; i < count; i++) {
        fireworks.push({
            x,
            y,
            angle: Math.random() * Math.PI * 2,
            speed: random(2, 5),
            alpha: 1
        });
    }
}

function drawFireworks() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    fireworks.forEach((p, i) => {
        p.x += Math.cos(p.angle) * p.speed;
        p.y += Math.sin(p.angle) * p.speed;
        p.alpha -= 0.015;

        ctx.fillStyle = `rgba(255, ${random(100,255)}, 0, ${p.alpha})`;
        ctx.beginPath();
        ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
        ctx.fill();

        if (p.alpha <= 0) fireworks.splice(i, 1);
    });

    requestAnimationFrame(drawFireworks);
}

function startFireworks() {
    setInterval(createFirework, 700);
    drawFireworks();
}
</script>

</body>
</html>
